r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,2,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(2,1,4,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(2,1,2,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(5,1,2,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(8,1,2,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml);qqline(testeb,col='red')
qqnorm(testeb);qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML,G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('CML,G-E=',EXPTHETA));qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML,G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('EB,G-E=',EXPTHETA));qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML, G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('EB, G-E=',EXPTHETA));qqline(testeb,col='red')
}
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML, G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('EB, G-E=',EXPTHETA));qqline(testeb,col='red')
}
shapiro.test(testcml)
a=shapiro.test(testcml)
a$p.value
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
shapirop=c()
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML, G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('EB, G-E=',EXPTHETA));qqline(testeb,col='red')
shapirop=c(shapirop,c(shapiro.test(testcml)$p.value,shapiro.test(testeb)$p.value))
}
print(shapirop)
MORG=1.1;MORE=1.2;RERI=0;pE=0.1;pG=0.05
N0=50000;N1=50000;n=2000
par(mfrow=c(3,2),mar=c(3,1,1.5,1),pin=c(1.1,1.1))
shapirop=c()
for (EXPTHETA in c(0.9,1,1.1)){
dat=gen_data(pE,pG,EXPTHETA,MORG,MORE,RERI,N0,N1,n)
testcml=rep(0,n);testeb=rep(0,n)
for(k in 1:n){
r01=dat$sim0[1,k]
r02=dat$sim0[2,k]
r03=dat$sim0[3,k]
r04=dat$sim0[4,k]
r11=dat$sim1[1,k]
r12=dat$sim1[2,k]
r13=dat$sim1[3,k]
r14=dat$sim1[4,k]
temp_cml=add.cml(r01,r02,r03,r04,r11,r12,r13,r14)
temp_eb=add.eb(r01,r02,r03,r04,r11,r12,r13,r14)
testcml[k]=temp_cml$reri/temp_cml$sd
testeb[k]=temp_eb$reri/temp_eb$sd
}
qqnorm(testcml,main=paste0('CML, G-E=',EXPTHETA));qqline(testeb,col='red')
qqnorm(testeb,main=paste0('EB, G-E=',EXPTHETA));qqline(testeb,col='red')
shapirop=c(shapirop,c(shapiro.test(testcml)$p.value,shapiro.test(testeb)$p.value))
}
print(shapirop)
x1=rep(c(1,2,3),10)
x2=rep(c(1,2,3),10)
y=x1+x2+0.5*x1*x2+rnorm(30)
lm(y~as.factor(x1)+as.factor(x2)+as.factor(x1)*as.factor(x2))
x1=sample(c(1,2,3),30)
x1=sample(c(1,2,3),30,replace=T)
x1
x1=sample(c(1,2,3),30,replace=T)
x2=sample(c(1,2,3),30,replace=T)
y=x1+x2+0.5*x1*x2+rnorm(30)
lm(y~as.factor(x1)+as.factor(x2)+as.factor(x1)*as.factor(x2))
lm(y~as.factor(x1)*as.factor(x2))
exp(-5.66+50*0.06)/(1+exp(-5.66+50*0.06))
exp(0.31+60*0.01)
qchisq(0.95,5)
qnorm(0.975)
qchisq(0.95,2)
39.6-1.96*9.1
39.6+1.96*9.1
-328127+324.6*2016-0.08*2016^2
-7798+3.96*1995
-328127+324.6*2016-0.08*2016^2
-328127+324.6*2016-0.08*2016*2016
-328127+324.6*2016-0.8*2016*2016
-328127+324.6*2016-0.08*2016*2016
exp(0.01)
exp(0.04)
exp(2*1.013)
2*(1.013-1.96*0.046)
2*(1.013+1.96*0.046)
exp(1.846)
exp(2.206)
exp(1.805-1.96*0.093)
exp(1.805+1.96*0.093)
exp(10*-0.032282+0.001052*10*50)
exp(10*-0.032282+0.001052*10*60)
exp(10*-0.032282+0.001052*10*70)
setwd("~/GitHub/MIT6.867/Data")
train = read.csv("trainset_impute_onehot.csv",header=T)
cont_inter_name=c("ps_calc_05","ps_calc_06","ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10",
"ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14","ps_car_13","ps_ref_01",
"ps_reg_02","ps_reg_03")
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_var)){
cont_inter_var=cbind(cont_inter_var,train[,cont_inter_name[i]]*train[,cont_inter_name[j]])
}
}
i=1
train[,cont_inter_name[i]]
train[,cont_inter_name[i]]*train[,cont_inter_name[j]]
as.vector(train[,cont_inter_name[i]])*as.vector(train[,cont_inter_name[j]])
a=as.vector(train[,cont_inter_name[i]])
a=as.vector(train[,cont_inter_name[i]])
b=as.vector(train[,cont_inter_name[j]])
a*b
class(a)
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
a
a8b
a8b
a*b
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_var)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
View(cont_inter_var)
train = read.csv("trainset_impute_onehot.csv",header=T)
cont_inter_name=c("ps_calc_05","ps_calc_06","ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10",
"ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14","ps_car_13","ps_ref_01",
"ps_reg_02","ps_reg_03")
cont_inter_var=c()
i=1
j=2
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
d
cont_inter_var=cbind(cont_inter_var,d)
View(cont_inter_var)
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_var)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_name)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
View(cont_inter_var)
cont_inter_name=c("ps_calc_05","ps_calc_06","ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10",
"ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14","ps_car_13","ps_reg_01",
"ps_reg_02","ps_reg_03")
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_name)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
View(cont_inter_var)
View(cont_inter_var)
std_inter = scale(cont_inter_var)
View(std_inter)
colnames(train)
cont_name = c("ps_ind_01","ps_ind_03","ps_ind_14","ps_ind_15","ps_reg_01","ps_reg_02",
"ps_reg_03","ps_car_11","ps_car_12","ps_car_13","ps_car_14","ps_car_15",
"ps_calc_01","ps_calc_02","ps_calc_03","ps_calc_04","ps_calc_05","ps_calc_06",        "ps_calc_07"        "ps_calc_08"        "ps_calc_09"
"ps_calc_10","ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14")
for (i in 1:length(cont_name)){
train[,cont_name[i]]=scale(train[,cont_name[i]])
}
cont_name = c("ps_ind_01","ps_ind_03","ps_ind_14","ps_ind_15","ps_reg_01","ps_reg_02",
"ps_reg_03","ps_car_11","ps_car_12","ps_car_13","ps_car_14","ps_car_15",
"ps_calc_01","ps_calc_02","ps_calc_03","ps_calc_04","ps_calc_05","ps_calc_06",        "ps_calc_07"        "ps_calc_08"        "ps_calc_09"
"ps_calc_10","ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14")
cont_name = c("ps_ind_01","ps_ind_03","ps_ind_14","ps_ind_15","ps_reg_01","ps_reg_02",
"ps_reg_03","ps_car_11","ps_car_12","ps_car_13","ps_car_14","ps_car_15",
"ps_calc_01","ps_calc_02","ps_calc_03","ps_calc_04","ps_calc_05","ps_calc_06",
"ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10","ps_calc_11","ps_calc_12",
"ps_calc_13","ps_calc_14")
for (i in 1:length(cont_name)){
train[,cont_name[i]]=scale(train[,cont_name[i]])
}
train=cbind(train,cont_inter_var)
View(train)
############################################################
train = read.csv("trainset_impute_onehot.csv",header=T)
############################################################
cont_inter_name=c("ps_calc_05","ps_calc_06","ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10",
"ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14","ps_car_13","ps_reg_01",
"ps_reg_02","ps_reg_03")
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_name)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
std_inter = scale(cont_inter_var)
cont_name = c("ps_ind_01","ps_ind_03","ps_ind_14","ps_ind_15","ps_reg_01","ps_reg_02",
"ps_reg_03","ps_car_11","ps_car_12","ps_car_13","ps_car_14","ps_car_15",
"ps_calc_01","ps_calc_02","ps_calc_03","ps_calc_04","ps_calc_05","ps_calc_06",
"ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10","ps_calc_11","ps_calc_12",
"ps_calc_13","ps_calc_14")
for (i in 1:length(cont_name)){
train[,cont_name[i]]=scale(train[,cont_name[i]])
}
View(train)
train = read.csv("trainset_impute_onehot.csv",header=T)
cont_inter_name=c("ps_calc_05","ps_calc_06","ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10",
"ps_calc_11","ps_calc_12","ps_calc_13","ps_calc_14","ps_car_13","ps_reg_01",
"ps_reg_02","ps_reg_03")
cont_inter_var=c()
for(i in 1:(length(cont_inter_name)-1)){
for(j in (i+1):length(cont_inter_name)){
a=train[,cont_inter_name[i]]
b=train[,cont_inter_name[j]]
d=c()
for (k in 1:length(a)){
d[k]=a[k]*b[k]
}
cont_inter_var=cbind(cont_inter_var,d)
}
}
std_inter = scale(cont_inter_var)
std_inter = as.data.frame(cont_inter_var)
cont_name = c("ps_ind_01","ps_ind_03","ps_ind_14","ps_ind_15","ps_reg_01","ps_reg_02",
"ps_reg_03","ps_car_11","ps_car_12","ps_car_13","ps_car_14","ps_car_15",
"ps_calc_01","ps_calc_02","ps_calc_03","ps_calc_04","ps_calc_05","ps_calc_06",
"ps_calc_07","ps_calc_08","ps_calc_09","ps_calc_10","ps_calc_11","ps_calc_12",
"ps_calc_13","ps_calc_14")
for (i in 1:length(cont_name)){
train[,cont_name[i]]=scale(train[,cont_name[i]])
}
train=cbind(train,std_inter)
View(train)
train[,305]
write.csv(data,"trainset_1120.csv",row.names = F)
write.csv(train,"trainset_1120.csv",row.names = F)
